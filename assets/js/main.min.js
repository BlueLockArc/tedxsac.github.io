function showhide(e="",t=""){""!=e&&document.getElementById(e).classList.remove("togglable"),""!=t&&document.getElementById(t).classList.add("togglable")}const sleep=e=>new Promise((t=>setTimeout(t,e)));async function check_email(){$("#continue-btn").hide(),$("#email-loading-icon").show(),$("#email-alert-box").hide();var e=$("#email-input").val();await fetch("https://tedxsac.up.railway.app/check/"+e).then((async e=>{const t=e.status,o=await e.json();200===t?($("#email-check-row").hide(),$("#register-form-row").show()):202===t?($("#email-alert-box").show(),$("#email-alert-text").html("Email already registered")):520===t?($("#email-alert-box").show(),$("#email-alert-text").html(o.msg)):console.log("Unexpected status code:",t)})).catch((e=>{console.error("Error:",e)})),$("#email-loading-icon").hide(),$("#continue-btn").show()}async function submit_form(){var e=$("#name-input").val(),t=$("#email-input").val(),o=(window.wa_iti.getNumber(),window.wa_iti.getNumber()),a=$('input[name="int-ext"]:checked').val(),i=$("#regno-input").val(),l=$('input[name="partial-full"]:checked').val(),r=$("#upi-ref-input").val();if(e&&t&&o&&a&&l&&r||alert("Please fill all the required fields."),window.iti.isValidNumber()){if("yes"==a&&!i)return alert("Please fill all the required fields."),void $("#regno-input")[0].scrollIntoView({behavior:"smooth"});console.log(e,t,o,a,i,l,r),await fetch("https://tedxsac.up.railway.app/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,name:e,phone:o,aloy:a,regno:i,payment_type:l,upi_ref_no:r})}).then((async e=>{const t=e.status,o=await e.json();200===t?(console.log("Form submitted successfully"),$("#register-form-row").hide(),$("#success-row").show()):202===t?console.log("Email already registered"):520===t?alert(o.msg):console.log("Unexpected status code:",t)})).catch((e=>{console.error("Error:",e)}))}else $("#name-input")[0].scrollIntoView({behavior:"smooth"})}function resetForms(){for(i=0;i<document.forms.length;i++)document.forms[i].reset()}$(document).on("click touchstart",(function(){var e=$('input[name="int-ext"]:checked').val(),t=$('input[name="partial-full"]:checked').val();e&&(showhide("payment-type-row"),1==e?(showhide("regno-row"),$("#partial-radio-btn").prop("disabled",!1),$("#regno-input").prop("required",!0)):0==e&&(showhide("","regno-row"),$("#partial-radio-btn").prop("disabled",!0),$("#partial-radio-btn").prop("checked",!1),$("#regno-input").prop("required",!1),showhide("full-pay-label","partial-pay-label"))),(t=$('input[name="partial-full"]:checked').val())||showhide("","qr-code-col"),t&&(showhide("qr-code-col"),"partial"==t?showhide("partial-pay-label","full-pay-label"):"full"==t&&showhide("full-pay-label","partial-pay-label"))})),$(document).ready((function(){resetForms()}));
