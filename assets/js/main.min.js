function showhide(e="",l=""){""!=e&&document.getElementById(e).classList.remove("togglable"),""!=l&&document.getElementById(l).classList.add("togglable")}const sleep=e=>new Promise((l=>setTimeout(l,e)));async function check_email(){$("#continue-btn").hide(),$("#email-loading-icon").show(),$("#email-alert-box").hide();var e=$("#email-input").val();await fetch("http://127.0.0.1:5000/check/"+e).then((async e=>{const l=e.status,a=await e.json();200===l?($("#email-check-col").hide(),$("#register-form-col").show()):202===l?($("#email-alert-box").show(),$("#email-alert-text").html("Email already registered")):520===l?($("#email-alert-box").show(),$("#email-alert-text").html(a.msg)):console.log("Unexpected status code:",l)})).catch((e=>{console.error("Error:",e)})),$("#email-loading-icon").hide(),$("#continue-btn").show()}async function submit_form(){var e=$("#name-input").val(),l=$("#email-input").val(),a=window.iti.getNumber(),t=$('input[name="int-ext"]:checked').val(),o=$("#regno-input").val(),i=$('input[name="partial-full"]:checked').val(),n=$("#upi-ref-input").val();if(e&&l&&a&&t&&i&&n||alert("Please fill all the required fields."),window.iti.isValidNumber()){if("yes"==t&&!o)return alert("Please fill all the required fields."),void $("#regno-input")[0].scrollIntoView({behavior:"smooth"});console.log(e,l,a,t,o,i,n),await fetch("http://127.0.0.1:5000/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l,name:e,phone:a,aloy:t,regno:o,payment_type:i,upi_ref_no:n})}).then((async e=>{const l=e.status,a=await e.json();200===l?(console.log("Form submitted successfully"),$("#register-form-col").hide(),$("#success-col").show()):202===l?console.log("Email already registered"):520===l?alert(a.msg):console.log("Unexpected status code:",l)})).catch((e=>{console.error("Error:",e)}))}else $("#name-input")[0].scrollIntoView({behavior:"smooth"})}$(document).on("click touchstart",(function(){var e=$('input[name="int-ext"]:checked').val(),l=$('input[name="partial-full"]:checked').val();e&&(showhide("payment-type-row"),1==e?(showhide("regno-row"),$("#partial-radio-btn").prop("disabled",!1),$("#regno-input").prop("required",!0)):0==e&&(showhide("","regno-row"),$("#partial-radio-btn").prop("disabled",!0),$("#partial-radio-btn").prop("checked",!1),$("#regno-input").prop("required",!1),showhide("full-pay-label","partial-pay-label"))),(l=$('input[name="partial-full"]:checked').val())||showhide("","qr-code-col"),l&&(showhide("qr-code-col"),"partial"==l?showhide("partial-pay-label","full-pay-label"):"full"==l&&showhide("full-pay-label","partial-pay-label"))}));